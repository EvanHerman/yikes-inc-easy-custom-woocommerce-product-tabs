function yikes_woo_handle_saving_reusable_tab(a){yikes_woo_display_feedback_messages("#yikes_woo_delete_this_tab_"+a,"yikes_woo_tab_success_message",repeatable_custom_tabs_settings.loading_gif,{time:1e5});var b=jQuery("#yikes_woo_reusable_tab_title_"+a).val(),c=jQuery("#yikes_woo_reusable_tab_name_"+a).val(),d="",e={},f=!1;if(d="undefined"!==typeof tinymce&&jQuery("#wp-yikes_woo_reusable_tab_content_"+a+"-wrap").hasClass("tmce-active")?tinymce.get("yikes_woo_reusable_tab_content_"+a).getContent():jQuery("#yikes_woo_reusable_tab_content_"+a).val(),0===b.length)return void yikes_woo_display_feedback_messages("#yikes_woo_delete_this_tab_"+a,"yikes_woo_tab_error_message","Please fill out the tab title before saving.",{});if(0===d.length)return void yikes_woo_display_feedback_messages("#yikes_woo_delete_this_tab_"+a,"yikes_woo_tab_error_message","Please fill out the tab content before saving.",{});jQuery(".cptpro-taxonomies").length>0&&jQuery(".taxonomy-label").each(function(){var a=jQuery(this).data("taxonomy");e[a]={},console.log(a);const b=jQuery('select[name="'+a+'[]"]').select2("data");for(var c in b){const d=b[c];console.log(d.element),e[a][d.id]=d.element.dataset.slug}}),jQuery(".global-section").length>0&&(f=jQuery("#global-checkbox").prop("checked"));var g={action:"yikes_woo_save_tab_as_reusable",tab_title:b,tab_content:d,tab_id:a,tab_name:c,taxonomies:e,global_tab:f,security_nonce:repeatable_custom_tabs_settings.save_tab_as_reusable_nonce};jQuery.post(repeatable_custom_tabs_settings.ajaxurl,g,function(c){"undefined"!==typeof c.success&&c.success===!0?("undefined"!==typeof c.data&&"undefined"!==typeof c.data.redirect&&c.data.redirect===!0?location.href=c.data.redirect_url:(yikes_woo_display_feedback_messages("#yikes_woo_delete_this_tab_"+a,"yikes_woo_tab_success_message","Tab saved successfully.",{}),"1"===repeatable_custom_tabs_settings.is_cptpro_enabled&&"function"===typeof cptpro_show_products_using_this_tab&&cptpro_show_products_using_this_tab(a)),jQuery("#yikes_woo_tab_title_header").text(b)):"undefined"!==typeof c.data&&"undefined"!==typeof c.data.message?yikes_woo_display_feedback_messages("#yikes_woo_delete_this_tab_"+a,"yikes_woo_tab_error_message",c.data.message,{}):console.log(c)})}function yikes_woo_handle_deleting_reusable_tab(a,b){"single"===b&&yikes_woo_display_feedback_messages("#yikes_woo_delete_this_tab_"+a,"yikes_woo_tab_success_message",repeatable_custom_tabs_settings.loading_gif,{time:1e5});var c={action:"yikes_woo_delete_reusable_tab_handler",tab_id:a,security_nonce:repeatable_custom_tabs_settings.delete_reusable_tab_nonce};jQuery.post(repeatable_custom_tabs_settings.ajaxurl,c,function(c){c.success?"bulk"===b?jQuery(".yikes_woo_bulk_delete_this_row").fadeOut("600",function(){jQuery(".yikes_woo_bulk_delete_this_row").remove()}):"single"===b?"undefined"!==typeof c.data&&"undefined"!==typeof c.data.redirect_url&&(location.href=c.data.redirect_url):jQuery("#yikes_woo_saved_tabs_row_"+a).fadeOut("600",function(){jQuery("#yikes_woo_saved_tabs_row_"+a).remove(),jQuery("#yikes_woo_delete_success_message").show()}):console.log(c)})}jQuery(document).ready(function(){jQuery(".yikes_woo_save_this_tab").on("click",function(){var a=jQuery(this).data("tab-id");yikes_woo_handle_saving_reusable_tab(a)}),jQuery(".yikes_woo_delete_this_tab").on("click",function(){var a=confirm(repeatable_custom_tabs_settings.confirm_delete_single_tab);if(a!==!1){var b=jQuery(this).data("tab-id");jQuery(this).hasClass("yikes_woo_delete_this_tab_single")?("new"===b&&(location.href=repeatable_custom_tabs_settings.tab_list_page_url),yikes_woo_handle_deleting_reusable_tab(b,"single")):yikes_woo_handle_deleting_reusable_tab(b,!1)}}),jQuery(".yikes_woo_handle_bulk_action").on("click",function(){if("delete"===jQuery("#bulk-action-selector-top").val()){var a=confirm(repeatable_custom_tabs_settings.confirm_delete_bulk_tabs);if(a!==!1){var b=[];jQuery(".entry-bulk-action-checkbox").each(function(){jQuery(this).is(":checked")===!0&&(b.push(jQuery(this).val()),jQuery(this).parents("th").parents(".yikes_woo_saved_tabs_row").addClass("yikes_woo_bulk_delete_this_row"))}),yikes_woo_handle_deleting_reusable_tab(b,"bulk")}}})});
